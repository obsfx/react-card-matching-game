(this["webpackJsonpcard-memory-game"]=this["webpackJsonpcard-memory-game"]||[]).push([[0],{11:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(2),n=a.n(r),s=a(4),i=a.n(s),d=(a(11),a(1)),o=a(5),l=["ace_of_spades","two_of_spades","three_of_spades","four_of_spades","five_of_spades","six_of_spades","seven_of_spades","eight_of_spades","nine_of_spades","ten_of_spades","jack_of_spades","king_of_spades","queen_of_spades"],u=Math.floor(61.25),b=function(e){var t=e.id,a=e.width,r=e.cardType,n=e.flipped,s=e.disabled,i=e.showCardType,d=e.increaseMatchedPairCountAfterDisabled,o=e.handleStageEndAfterFlippedBack,l=e.setCardProperty,u=e.handleFlipEnd,b=e.handleDisableEnd;return Object(c.jsx)("div",{className:"card-container ".concat(s?"card-disabled":""),style:{width:a,height:1.422*a},onClick:function(){n||s||(l(t,"flipped",!0),l(t,"showCardType",!0))},onTransitionEnd:function(e){"transform"===e.propertyName&&e.currentTarget===e.target&&e.currentTarget.classList.contains("card-disabled")&&b(d)},children:Object(c.jsxs)("div",{className:"card ".concat(n?"":"back-flipped"," flip-transition"),onTransitionEnd:function(e){"transform"===e.propertyName&&e.currentTarget===e.target&&(u(s,n,o),n||l(t,"showCardType",!1))},children:[Object(c.jsx)("div",{className:"card-face card-front ".concat(i?r:""," ").concat(s?"card-face-disabled":"")}),Object(c.jsx)("div",{className:"card-face card-back"})]})})},f=function(e){var t=e.pairCount,a=e.cards,n=e.flippedCards,s=e.increaseMatchedPairCount,i=e.setCards,d=e.setCardProperty,o=e.setFlippedCards,f=e.handleCardMatch,j=e.handleCardMisMatch,p=e.handleStageEnd;return Object(r.useEffect)((function(){for(var e=function(e){var t={type:e,state:new Map};return t.state.set("flipped",!1),t.state.set("disabled",!1),t.state.set("showCardType",!1),t.state.set("increaseMatchedPairCountAfterDisabled",!1),t.state.set("handleStageEndAfterFlippedBack",!1),t},a=[],c=0;c<t;c++){var r=l[Math.floor(Math.random()*l.length)];a.push(e(r),e(r))}i(function(e){for(var t,a,c=[].concat(e),r=c.length;0!==r;)a=Math.floor(Math.random()*r),t=c[r-=1],c[r]=c[a],c[a]=t;return c}(a))}),[t,i]),Object(r.useEffect)((function(){for(;n.length-1>0;){var e=n.shift(),t=n.shift();void 0!==e&&void 0!==t&&(a[e].type===a[t].type?f(e,t):j(e,t)),o(n)}}),[n,a,f,j,o]),Object(c.jsx)("div",{className:"deck",style:{width:600},children:Object(c.jsx)("div",{className:"deck-wrapper",children:a.map((function(e,t){return Object(c.jsx)(b,{id:t,width:u,cardType:e.type,flipped:e.state.get("flipped")||!1,disabled:e.state.get("disabled")||!1,showCardType:e.state.get("showCardType")||!1,increaseMatchedPairCountAfterDisabled:e.state.get("increaseMatchedPairCountAfterDisabled")||!1,handleStageEndAfterFlippedBack:e.state.get("handleStageEndAfterFlippedBack")||!1,setCardProperty:d,handleFlipEnd:function(e,a,c){return function(e,t,a,c){!t&&a&&(d(e,"flipped",!0),o(n.concat(e))),c&&!a&&(d(e,"handleStageEndAfterFlippedBack",!1),p())}(t,e,a,c)},handleDisableEnd:function(e){return function(e,t){t&&(d(e,"increaseMatchedPairCountAfterDisabled",!1),s())}(t,e)}},t)}))})})},j=function(e){var t=e.state,a=e.level,r=e.handleStart;return Object(c.jsx)("div",{className:"overlay",children:Object(c.jsxs)("div",{className:"overlay-wrapper",children:["start"===t&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Card Matching Game"}),Object(c.jsxs)("p",{children:["Built with ",Object(c.jsx)("strong",{children:"React"}),"."]}),Object(c.jsx)("p",{children:Object(c.jsx)("a",{href:"https://github.com/obsfx/react-card-matching-game",children:"github.com/obsfx/react-card-matching-game"})}),Object(c.jsx)("div",{className:"start-button",onClick:r,children:"Start"})]}),"endgame"===t&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Time's Up!"}),Object(c.jsxs)("p",{children:["Level you reached ",Object(c.jsx)("strong",{children:a})]}),Object(c.jsx)("div",{className:"start-button",onClick:r,children:"Play Again"})]})]})})},p=function(e){var t=e.secs,a=e.progress,r=e.level,n=e.extraTime,s=e.showExtraTimeIndicator,i=e.setExtraTimeIndicator;return Object(c.jsxs)("div",{className:"hud",children:[Object(c.jsxs)("div",{className:"timer",children:[s&&Object(c.jsxs)("div",{className:"extra-time",onAnimationEnd:function(){return i(!1)},children:["+",Math.floor(n/60),":",n%60<10?"0".concat(n%60):n%60]}),Math.floor(t/60),":",t%60<10?"0".concat(t%60):t%60]}),Object(c.jsxs)("div",{className:"progress-bar",children:[Object(c.jsxs)("div",{className:"level-indicator",children:["Level ",Object(c.jsx)("span",{className:"level-number",children:r})]}),Object(c.jsx)("div",{className:"bar",children:Object(c.jsx)("div",{className:"progress",style:{width:"".concat(a,"%")}})})]})]})},h=function(e){var t=e.setSeconds;return Object(r.useEffect)((function(){var e=setInterval((function(){return t()}),1e3);return function(){return clearInterval(e)}}),[t]),null},O=function(){var e={state:"start",renderExtraTimeIndicator:!1,startTimer:!1,pairCount:3,matchedPairCount:0,secs:60,extraSecs:0,level:1,cards:[],flippedCards:[]},t=Object(r.useState)(Object(d.a)({},e)),a=Object(o.a)(t,2),n=a[0],s=a[1],i=Object(r.useCallback)((function(){s((function(e){var t=e.secs-1;return t<0&&s((function(e){return Object(d.a)(Object(d.a)({},e),{},{state:"endgame",startTimer:!1})})),Object(d.a)(Object(d.a)({},e),{},{secs:t<0?0:t})}))}),[]),l=Object(r.useCallback)((function(e){s((function(t){return Object(d.a)(Object(d.a)({},t),{},{extraSecs:e})}))}),[]),u=Object(r.useCallback)((function(e){s((function(t){return Object(d.a)(Object(d.a)({},t),{},{renderExtraTimeIndicator:e})}))}),[]),b=Object(r.useCallback)((function(){s((function(e){return Object(d.a)(Object(d.a)({},e),{},{level:e.level+1})}))}),[]),O=Object(r.useCallback)((function(e){s((function(t){return Object(d.a)(Object(d.a)({},t),{},{cards:e})}))}),[]),m=Object(r.useCallback)((function(e,t,a){s((function(c){return Object(d.a)(Object(d.a)({},c),{},{cards:c.cards.map((function(c,r){return r===e&&c.state.has(t)&&c.state.set(t,a),c}))})}))}),[]),C=Object(r.useCallback)((function(e){s((function(t){return Object(d.a)(Object(d.a)({},t),{},{flippedCards:e})}))}),[]),v=Object(r.useCallback)((function(){s((function(e){return Object(d.a)(Object(d.a)({},e),{},{matchedPairCount:e.matchedPairCount+1})}))}),[]),x=Object(r.useCallback)((function(e,t){s((function(a){return Object(d.a)(Object(d.a)({},a),{},{cards:a.cards.map((function(a,c){return c!==e&&c!==t||a.state.set("disabled",!0),c===t&&a.state.set("increaseMatchedPairCountAfterDisabled",!0),a}))})}))}),[]),g=Object(r.useCallback)((function(e,t){s((function(a){return Object(d.a)(Object(d.a)({},a),{},{cards:a.cards.map((function(a,c){return c!==e&&c!==t||a.state.set("flipped",!1),a}))})}))}),[]),y=Object(r.useCallback)((function(){s((function(e){var t=e.pairCount+1,a=4*e.pairCount;return l(a),Object(d.a)(Object(d.a)({},e),{},{pairCount:t,secs:e.secs+a,matchedPairCount:0})})),u(!0),b()}),[l,u,b]);return Object(r.useEffect)((function(){n.matchedPairCount===n.pairCount&&s((function(e){return Object(d.a)(Object(d.a)({},e),{},{cards:e.cards.map((function(e,t){return 0===t&&e.state.set("handleStageEndAfterFlippedBack",!0),e.state.set("disabled",!1),e.state.set("flipped",!1),e}))})}))}),[n.matchedPairCount,n.pairCount]),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"game",children:[Object(c.jsx)(p,{secs:n.secs,level:n.level,progress:100/n.pairCount*n.matchedPairCount,extraTime:n.extraSecs,showExtraTimeIndicator:n.renderExtraTimeIndicator,setExtraTimeIndicator:u}),Object(c.jsxs)("div",{className:"playground",children:[n.startTimer&&Object(c.jsx)(h,{setSeconds:i}),("start"===n.state||"endgame"===n.state)&&Object(c.jsx)(j,{state:n.state,level:n.level,handleStart:function(){s(Object(d.a)(Object(d.a)({},e),{},{state:"action",startTimer:!0}))}}),"action"===n.state&&Object(c.jsx)(f,{pairCount:n.pairCount,cards:n.cards,flippedCards:n.flippedCards,increaseMatchedPairCount:v,setCards:O,setCardProperty:m,setFlippedCards:C,handleCardMatch:x,handleCardMisMatch:g,handleStageEnd:y})]})]})})};i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.492acedd.chunk.js.map